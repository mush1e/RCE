<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Problems</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h2 class="mt-5">List of Problems</h2>
        <table id="problemsTable" class="table mt-3">
            <thead>
                <tr>
                    <th>Author</th>
                    <th>Title</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="problemsTableBody">
                <!-- Data will be populated here -->
            </tbody>
        </table>
    </div>

    <!-- Bootstrap JS (optional) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Your custom JavaScript -->
    <script>
       $(document).ready(function() {
            // AJAX request to fetch problems data from server
            $.ajax({
                url: '/get_problems', // Endpoint to fetch problems data
                type: 'GET',
                dataType: 'json',
                success: function(data) {
                    // Populate the table with received data
                    var tableBody = $('#problemsTableBody');
                    tableBody.empty(); // Clear existing data

                    // Iterate over each problem and append a table row
                    data.forEach(function(problem) {
                        var row = '<tr>' +
                                    '<td>' + problem.author + '</td>' +
                                    '<td>' + problem.title + '</td>' +
                                    '<td><a href="view_problem.php?id=' + problem.id + '" class="btn btn-primary">View Problem</a></td>' +
                                '</tr>';
                        tableBody.append(row);
                    });
                },
                error: function(xhr, status, error) {
                    console.error('Error fetching problems data:', error);
                    // Handle error gracefully, e.g., display a message to the user
                }
            });
        });
 
    </script>
</body>
</html>
